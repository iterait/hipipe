<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hipipe: Data splitting.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hipipe
   &#160;<span id="projectnumber">0.5.1</span>
   </div>
   <div id="projectbrief">C++17 data pipeline with Python bindings.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Data splitting.</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabb5b7efde4a5b71af837a99acbf0d440"><td class="memTemplParams" colspan="2">template&lt;typename Prng  = std::mt19937&amp;&gt; </td></tr>
<tr class="memitem:gabb5b7efde4a5b71af837a99acbf0d440"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; std::size_t &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group___groups.html#gabb5b7efde4a5b71af837a99acbf0d440">hipipe::generate_groups</a> (std::size_t size, std::vector&lt; double &gt; ratio, Prng &amp;&amp;gen=utility::random_generator)</td></tr>
<tr class="memdesc:gabb5b7efde4a5b71af837a99acbf0d440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly group data into multiple clusters with a given ratio.  <a href="group___groups.html#gabb5b7efde4a5b71af837a99acbf0d440">More...</a><br /></td></tr>
<tr class="separator:gabb5b7efde4a5b71af837a99acbf0d440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf53d1711a1ed768dab2fcc7cf8780cd8"><td class="memTemplParams" colspan="2">template&lt;typename Prng  = std::mt19937&amp;&gt; </td></tr>
<tr class="memitem:gaf53d1711a1ed768dab2fcc7cf8780cd8"><td class="memTemplItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; std::size_t &gt; &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="group___groups.html#gaf53d1711a1ed768dab2fcc7cf8780cd8">hipipe::generate_groups</a> (std::size_t n, std::size_t size, const std::vector&lt; double &gt; &amp;volatile_ratio, const std::vector&lt; double &gt; &amp;fixed_ratio, Prng &amp;&amp;gen=utility::random_generator)</td></tr>
<tr class="memdesc:gaf53d1711a1ed768dab2fcc7cf8780cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Randomly group data into multiple clusters with a given ratio.  <a href="group___groups.html#gaf53d1711a1ed768dab2fcc7cf8780cd8">More...</a><br /></td></tr>
<tr class="separator:gaf53d1711a1ed768dab2fcc7cf8780cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gabb5b7efde4a5b71af837a99acbf0d440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabb5b7efde4a5b71af837a99acbf0d440">&#9670;&nbsp;</a></span>generate_groups() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Prng  = std::mt19937&amp;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::size_t &gt; hipipe::generate_groups </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; double &gt;&#160;</td>
          <td class="paramname"><em>ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Prng &amp;&amp;&#160;</td>
          <td class="paramname"><em>gen</em> = <code>utility::random_generator</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Randomly group data into multiple clusters with a given ratio. </p>
<p>Example: </p><div class="fragment"><div class="line"><a class="code" href="group___groups.html#gabb5b7efde4a5b71af837a99acbf0d440">generate_groups</a>(10, {2, 2, 6})  <span class="comment">// == e.g. {1, 2, 2, 1, 0, 2, 2, 2, 0, 2}</span></div></div><!-- fragment --><p>If the ratios do not exactly split the requested number of elements, the last group with non-zero ratio gets all the remaining elements.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The size of the data, i.e., the number of elements. </td></tr>
    <tr><td class="paramname">ratio</td><td>Cluster size ratio. The ratios have to be non-negative and the sum of ratios has to be positive. </td></tr>
    <tr><td class="paramname">gen</td><td>The random generator to be used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="doc_2gh-pages_2include_2hipipe_2core_2groups_8hpp_source.html#l00049">49</a> of file <a class="el" href="doc_2gh-pages_2include_2hipipe_2core_2groups_8hpp_source.html">groups.hpp</a>.</p>

</div>
</div>
<a id="gaf53d1711a1ed768dab2fcc7cf8780cd8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf53d1711a1ed768dab2fcc7cf8780cd8">&#9670;&nbsp;</a></span>generate_groups() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Prng  = std::mt19937&amp;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::vector&lt; std::size_t &gt; &gt; hipipe::generate_groups </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>volatile_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixed_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Prng &amp;&amp;&#160;</td>
          <td class="paramname"><em>gen</em> = <code>utility::random_generator</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Randomly group data into multiple clusters with a given ratio. </p>
<p>In this overload, multiple clusterings of the given size are generated. Some of the elements are supposed to be fixed, i.e., to have the same group assigned in all the clusterings. The rest of the data are volatile and their group may differ between the clusterings.</p>
<p>This function is convenient e.g., if you want to split the data into train/valid/test groups multiple times (e.g., for ensemble training or x-validation) and you want to have the same test group in all the splits.</p>
<p>Example: </p><div class="fragment"><div class="line"><a class="code" href="group___groups.html#gabb5b7efde4a5b71af837a99acbf0d440">generate_groups</a>(3, 5, {2, 1}, {2});</div><div class="line"><span class="comment">// == e.g. {{0, 2, 1, 2, 0},</span></div><div class="line"><span class="comment">//          {1, 2, 0, 2, 1},</span></div><div class="line"><span class="comment">//          {1, 2, 1, 2, 0}}</span></div><div class="line"><span class="comment">// note that group 2 is assigned equally in all the groupings</span></div></div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>The number of different groupings. </td></tr>
    <tr><td class="paramname">size</td><td>The size of the data, i.e., the number of elements. </td></tr>
    <tr><td class="paramname">volatile_ratio</td><td>The ratio of volatile groups (i.e., groups that change between groupings). </td></tr>
    <tr><td class="paramname">fixed_ratio</td><td>The ratio of groups that are assigned equally in all groupings. </td></tr>
    <tr><td class="paramname">gen</td><td>The random generator to be used. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="doc_2gh-pages_2include_2hipipe_2core_2groups_8hpp_source.html#l00109">109</a> of file <a class="el" href="doc_2gh-pages_2include_2hipipe_2core_2groups_8hpp_source.html">groups.hpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
